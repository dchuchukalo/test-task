(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0HMw":function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("RtS0"),n("D/wG"),n("3dw1"),n("0HMw");var i={serviceSelectionList:document.querySelector(".service-selection--list"),bannerRef:document.querySelector(".banner"),orderRef:document.querySelector(".order"),orderFormRef:document.querySelector(".order-form"),serviceNameRef:document.querySelector("#order-info--service-name"),serviceDescriptionRef:document.querySelector("#order-info--description"),imgRef:document.querySelector('input[name="image"]'),nameSurnameRef:document.querySelector("#contact-info--name-surname"),emailRef:document.querySelector("#contact-info--email"),phoneNumder:document.querySelector("#contact-info--phone-number"),modalRef:document.querySelector(".modal"),modalErrorRef:document.querySelector(".modal-error"),modalResultRef:document.querySelector(".modal-result")},r=[{name:"first",children:[{name:"first.1",nephews:[{name:"first.1.1"},{name:"first.1.2"},{name:"first.1.3"}]},{name:"first.2",nephews:[{name:"first.2.1"},{name:"first.2.2"},{name:"first.2.3"}]},{name:"first.3",nephews:[{name:"first.3.1"},{name:"first.3.2"},{name:"first.3.3"}]}]},{name:"second",children:[{name:"second.1",nephews:[{name:"second.1.1"},{name:"second.1.2"},{name:"second.1.3"}]},{name:"second.2",nephews:[{name:"second.2.1"},{name:"second.2.2"},{name:"second.2.3"}]},{name:"second.3",nephews:[{name:"second.3.1"},{name:"second.3.2"},{name:"second.3.3"}]}]},{name:"third",children:[{name:"third.1",nephews:[{name:"third.1.1"},{name:"third.1.2"},{name:"third.1.3"}]},{name:"third.2",nephews:[{name:"third.2.1"},{name:"third.2.2"},{name:"third.2.2"}]},{name:"third.3",nephews:[{name:"third.3.1"},{name:"third.3.2"},{name:"third.3.3"}]}]}],s=(n("8cZI"),n("lmye"),document.querySelector('button[data-action="close-modal-error"]')),o=document.querySelector(".js-backdrop");function a(){window.removeEventListener("keydown",c),document.body.classList.remove("show-modal"),i.modalErrorRef.classList.add("hidden"),i.modalResultRef.classList.add("hidden")}function c(e){"Escape"===e.code&&a()}s.addEventListener("click",a),o.addEventListener("click",(function(e){e.target===e.currentTarget&&a()})),i.orderFormRef.addEventListener("submit",(function(){if(event.preventDefault(),function(){window.addEventListener("keydown",c),document.body.classList.add("show-modal"),i.modalRef.classList.remove("hidden")}(),!function(){if(0===i.serviceNameRef.value.length)return;if(0===i.nameSurnameRef.value.length)return;if(0===i.emailRef.value.length||i.emailRef.validity.patternMismatch)return;if(0===i.phoneNumder.value.length||i.phoneNumder.validity.patternMismatch)return;return!0}())return void i.modalErrorRef.classList.remove("hidden");e=(t=[i.serviceNameRef.value,i.serviceDescriptionRef.value,i.nameSurnameRef.value,i.emailRef.value,i.phoneNumder.value],t.map((function(e){if(0!==e.length)return"<p>"+e+"</p>"}))).join(""),i.modalResultRef.innerHTML=e,i.modalResultRef.classList.remove("hidden");var e,t}));var d="",l="";function m(e){var t=0,n="";e.forEach((function(e){n+='<li class="dropdown--item" data-index="'+t+'">'+e.name+"</li>",t+=1})),d='<button class="service-selection--button">Выберите тип</button><ul class="dropdown--list">'+n+"</ul>"}function u(e){"BUTTON"===e.target.nodeName&&e.currentTarget.lastChild.classList.toggle("show"),"LI"===e.target.nodeName&&(e.currentTarget.lastChild.classList.toggle("show"),function(e){if(m(e),i.serviceSelectionList.firstChild.classList.contains("checked"))return i.serviceSelectionList.children[1].innerHTML=d,void(i.serviceSelectionList.children[2]&&(i.serviceSelectionList.children[2].innerHTML=""));i.serviceSelectionList.insertAdjacentHTML("beforeend","<div>"+d+"</div>"),i.serviceSelectionList.firstChild.classList.add("checked"),i.serviceSelectionList.lastChild.addEventListener("click",f)}(l=r[e.target.getAttribute("data-index")].children),e.currentTarget.firstChild.textContent=e.target.textContent)}function f(e){"BUTTON"===e.target.nodeName&&e.target.nextElementSibling.classList.toggle("show"),"LI"===e.target.nodeName&&(e.target.parentElement.classList.toggle("show"),function(e){if(m(e),i.serviceSelectionList.children[1].classList.contains("checked"))return void(i.serviceSelectionList.lastChild.innerHTML=d);i.serviceSelectionList.insertAdjacentHTML("beforeend","<div>"+d+"</div>"),i.serviceSelectionList.children[1].classList.add("checked"),i.serviceSelectionList.lastChild.addEventListener("click",h)}(l[e.target.getAttribute("data-index")].nephews),e.currentTarget.firstChild.textContent=e.target.textContent)}function h(e){"BUTTON"===e.target.nodeName&&e.target.nextElementSibling.classList.toggle("show"),"LI"===e.target.nodeName&&(i.serviceSelectionList.children[2].classList.add("checked"),e.target.parentElement.classList.toggle("show"),i.serviceNameRef.value=e.target.textContent,i.bannerRef.classList.add("hidden"),i.orderRef.classList.remove("hidden"))}m(r),i.serviceSelectionList.insertAdjacentHTML("beforeend","<div>"+d+"</div>"),i.serviceSelectionList.lastChild.addEventListener("click",u),window.onclick=function(e){var t=e.target.classList;if(!t.contains("service-selection--button")&&!t.contains("dropdown--item")){var n=document.querySelector(".show");n&&n.classList.remove("show")}}}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.8062189b89f70599f10b.js.map